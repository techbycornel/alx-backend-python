#!/bin/bash

echo "ðŸš€ Applying rolling update..."
kubectl apply -f blue_deployment.yaml

echo "ðŸ” Monitoring rollout..."
kubectl rollout status deployment/messaging-app-blue

echo "ðŸŒ Testing app for downtime..."
while true; do curl -s http://messaging.local/api/ > /dev/null && echo "Running..." || echo "Down!"; sleep 2; done
